"use strict";const fs=require("fs"),path=require("path"),log=e=>console.log(e),isFile=e=>fs.statSync(e).isFile(),write=(e,t)=>new Promise((r,s)=>{fs.writeFile(path.resolve(e),t,e=>e?s(e):r(t))}),readFolder=e=>new Promise((t,r)=>{fs.readdir(path.resolve(e),(s,i)=>{s&&r(s);const o=i.map(t=>path.join(e,t));t(o.filter(isFile))})}),read=e=>new Promise((t,r)=>{fs.readFile(path.resolve(e),(e,s)=>{e&&r(e),t(s)})}),concat=e=>new Promise((t,r)=>Promise.all(e.map(read)).then(e=>t(e.join("\n"))).catch(r));module.exports=((e,t)=>new Promise((r,s)=>{let i;i="string"==typeof e?readFolder(e).then(concat):concat(e),t?i.then(e=>write(t,e).then(r).catch(s)).catch(s):i.then(r).catch(s)}));